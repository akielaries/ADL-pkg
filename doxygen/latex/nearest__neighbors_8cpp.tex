\hypertarget{nearest__neighbors_8cpp}{}\doxysection{modules/ml/nearest\+\_\+neighbors.cpp File Reference}
\label{nearest__neighbors_8cpp}\index{modules/ml/nearest\_neighbors.cpp@{modules/ml/nearest\_neighbors.cpp}}
{\ttfamily \#include \char`\"{}k-\/\+NN.\+h\char`\"{}}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classCompany}{Company}}
\item 
class \mbox{\hyperlink{classCSVReader}{CSVReader}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{nearest__neighbors_8cpp_ae07612d249d520ffdc46849324a31fb9}{comparison}} (\mbox{\hyperlink{classCompany}{Company}} \&lhs, \mbox{\hyperlink{classCompany}{Company}} \&rhs)
\item 
long double \mbox{\hyperlink{nearest__neighbors_8cpp_aea167cf8a07bdeab4cc68fae7a02806e}{euclidean\+Distance}} (\mbox{\hyperlink{classCompany}{Company}} \&lhs, \mbox{\hyperlink{classCompany}{Company}} \&\mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}})
\item 
long double \mbox{\hyperlink{nearest__neighbors_8cpp_a3feb38be1a54a6de5afa02d99ac808f1}{manhattan\+Distance}} (\mbox{\hyperlink{classCompany}{Company}} \&lhs, \mbox{\hyperlink{classCompany}{Company}} \&\mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}})
\item 
void \mbox{\hyperlink{nearest__neighbors_8cpp_a91599ec4f74a72f07af0d53665025e52}{fill\+Distances}} (vector$<$ \mbox{\hyperlink{classCompany}{Company}} $>$ \&data, \mbox{\hyperlink{classCompany}{Company}} \&\mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}, double($\ast$distance\+Function)(\mbox{\hyperlink{classCompany}{Company}} \&, \mbox{\hyperlink{classCompany}{Company}} \&))
\item 
bool \mbox{\hyperlink{nearest__neighbors_8cpp_a15264defbbec1a36f588050dc4850ee6}{KNN}} (vector$<$ \mbox{\hyperlink{classCompany}{Company}} $>$ \&data, \mbox{\hyperlink{classCompany}{Company}} \&\mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}, int k, double($\ast$distance\+Function)(\mbox{\hyperlink{classCompany}{Company}} \&, \mbox{\hyperlink{classCompany}{Company}} \&))
\item 
int \mbox{\hyperlink{nearest__neighbors_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{nearest__neighbors_8cpp_ae07612d249d520ffdc46849324a31fb9}\label{nearest__neighbors_8cpp_ae07612d249d520ffdc46849324a31fb9}} 
\index{nearest\_neighbors.cpp@{nearest\_neighbors.cpp}!comparison@{comparison}}
\index{comparison@{comparison}!nearest\_neighbors.cpp@{nearest\_neighbors.cpp}}
\doxysubsubsection{\texorpdfstring{comparison()}{comparison()}}
{\footnotesize\ttfamily bool comparison (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{lhs,  }\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{rhs }\end{DoxyParamCaption})}



Definition at line 138 of file nearest\+\_\+neighbors.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{138                                             \{}
\DoxyCodeLine{139     \textcolor{keywordflow}{return} lhs.\mbox{\hyperlink{classCompany_aa35fa24964b0a5686b3c61126f46b38a}{distance}} < rhs.\mbox{\hyperlink{classCompany_aa35fa24964b0a5686b3c61126f46b38a}{distance}};}
\DoxyCodeLine{140 \}}

\end{DoxyCode}


References Company\+::distance.



Referenced by KNN().

\mbox{\Hypertarget{nearest__neighbors_8cpp_aea167cf8a07bdeab4cc68fae7a02806e}\label{nearest__neighbors_8cpp_aea167cf8a07bdeab4cc68fae7a02806e}} 
\index{nearest\_neighbors.cpp@{nearest\_neighbors.cpp}!euclideanDistance@{euclideanDistance}}
\index{euclideanDistance@{euclideanDistance}!nearest\_neighbors.cpp@{nearest\_neighbors.cpp}}
\doxysubsubsection{\texorpdfstring{euclideanDistance()}{euclideanDistance()}}
{\footnotesize\ttfamily long double euclidean\+Distance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{lhs,  }\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{test }\end{DoxyParamCaption})}



Definition at line 142 of file nearest\+\_\+neighbors.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{142                                                            \{}
\DoxyCodeLine{143     \textcolor{keywordflow}{return} sqrt(pow((lhs.\mbox{\hyperlink{classCompany_a66da188152d90e0788a0e1666589ce31}{turnover}} -\/ \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.turnover), 2) +}
\DoxyCodeLine{144                 pow((lhs.\mbox{\hyperlink{classCompany_a41ba0338049f56dbd4a4b645834267d0}{characteristics}} -\/ \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.characteristics), 2));}
\DoxyCodeLine{145 \}}

\end{DoxyCode}


References Company\+::characteristics, test(), and Company\+::turnover.



Referenced by main().

\mbox{\Hypertarget{nearest__neighbors_8cpp_a91599ec4f74a72f07af0d53665025e52}\label{nearest__neighbors_8cpp_a91599ec4f74a72f07af0d53665025e52}} 
\index{nearest\_neighbors.cpp@{nearest\_neighbors.cpp}!fillDistances@{fillDistances}}
\index{fillDistances@{fillDistances}!nearest\_neighbors.cpp@{nearest\_neighbors.cpp}}
\doxysubsubsection{\texorpdfstring{fillDistances()}{fillDistances()}}
{\footnotesize\ttfamily void fill\+Distances (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classCompany}{Company}} $>$ \&}]{data,  }\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{test,  }\item[{double($\ast$)(\mbox{\hyperlink{classCompany}{Company}} \&, \mbox{\hyperlink{classCompany}{Company}} \&)}]{distance\+Function }\end{DoxyParamCaption})}



Definition at line 152 of file nearest\+\_\+neighbors.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{153                                                                      \{}
\DoxyCodeLine{154     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < data.size(); ++i) \{}
\DoxyCodeLine{155         data[i].distance = distanceFunction(data[i], \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}});}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157 \}}

\end{DoxyCode}


References test().



Referenced by KNN().

\mbox{\Hypertarget{nearest__neighbors_8cpp_a15264defbbec1a36f588050dc4850ee6}\label{nearest__neighbors_8cpp_a15264defbbec1a36f588050dc4850ee6}} 
\index{nearest\_neighbors.cpp@{nearest\_neighbors.cpp}!KNN@{KNN}}
\index{KNN@{KNN}!nearest\_neighbors.cpp@{nearest\_neighbors.cpp}}
\doxysubsubsection{\texorpdfstring{KNN()}{KNN()}}
{\footnotesize\ttfamily bool KNN (\begin{DoxyParamCaption}\item[{vector$<$ \mbox{\hyperlink{classCompany}{Company}} $>$ \&}]{data,  }\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{test,  }\item[{int}]{k,  }\item[{double($\ast$)(\mbox{\hyperlink{classCompany}{Company}} \&, \mbox{\hyperlink{classCompany}{Company}} \&)}]{distance\+Function }\end{DoxyParamCaption})}



Definition at line 159 of file nearest\+\_\+neighbors.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{160                                                            \{}
\DoxyCodeLine{161     \textcolor{comment}{// filling the distances between all points and test}}
\DoxyCodeLine{162     \mbox{\hyperlink{nearest__neighbors_8cpp_a91599ec4f74a72f07af0d53665025e52}{fillDistances}}(data, \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}, distanceFunction);}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     \textcolor{comment}{// sorting so that we can get the k nearest}}
\DoxyCodeLine{165     sort(data.begin(), data.end(), \mbox{\hyperlink{nearest__neighbors_8cpp_ae07612d249d520ffdc46849324a31fb9}{comparison}});}
\DoxyCodeLine{166 }
\DoxyCodeLine{167     int64\_t countSuccesful = 0;}
\DoxyCodeLine{168     int64\_t countUnsuccesful = 0;}
\DoxyCodeLine{169     \textcolor{keywordflow}{for} (int64\_t i = 0; i < k; ++i) \{}
\DoxyCodeLine{170         \textcolor{keywordflow}{if} (data[i].success) \{}
\DoxyCodeLine{171             ++countSuccesful;}
\DoxyCodeLine{172         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{173             ++countUnsuccesful;}
\DoxyCodeLine{174         \}}
\DoxyCodeLine{175     \}}
\DoxyCodeLine{176     \textcolor{comment}{/*}}
\DoxyCodeLine{177 \textcolor{comment}{     * Based on the count of succesful and unsuccessful examples}}
\DoxyCodeLine{178 \textcolor{comment}{     * within those k, we are deciding whether the test example is}}
\DoxyCodeLine{179 \textcolor{comment}{     * successful or not.}}
\DoxyCodeLine{180 \textcolor{comment}{     */}}
\DoxyCodeLine{181     \textcolor{keywordflow}{if} (countSuccesful == countUnsuccesful) \{}
\DoxyCodeLine{182         \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.success = data[0].success;}
\DoxyCodeLine{183     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{184         \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.success = countSuccesful > countUnsuccesful ? true : \textcolor{keyword}{false};}
\DoxyCodeLine{185     \}}
\DoxyCodeLine{186     \textcolor{keywordflow}{return} \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.success;}
\DoxyCodeLine{187 \}}

\end{DoxyCode}


References comparison(), fill\+Distances(), and test().



Referenced by main().

\mbox{\Hypertarget{nearest__neighbors_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{nearest__neighbors_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{nearest\_neighbors.cpp@{nearest\_neighbors.cpp}!main@{main}}
\index{main@{main}!nearest\_neighbors.cpp@{nearest\_neighbors.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 189 of file nearest\+\_\+neighbors.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{189            \{}
\DoxyCodeLine{190     \textcolor{keyword}{const} \textcolor{keywordtype}{string} path = \textcolor{stringliteral}{"{}../data/zip.test.gz"{}};}
\DoxyCodeLine{191     \mbox{\hyperlink{classCSVReader}{CSVReader}} reader(path);}
\DoxyCodeLine{192     vector<vector<string>> rawData = reader.getData();}
\DoxyCodeLine{193     vector<Company> data;}
\DoxyCodeLine{194     \textcolor{keywordflow}{for} (vector<string> line : rawData) \{}
\DoxyCodeLine{195         \mbox{\hyperlink{classCompany}{Company}} comp(stoi(line[0]), line[1],}
\DoxyCodeLine{196                      line[2] == \textcolor{stringliteral}{"{}1"{}} ? \textcolor{keyword}{true} : \textcolor{keyword}{false});}
\DoxyCodeLine{197         data.push\_back(comp);}
\DoxyCodeLine{198     \}}
\DoxyCodeLine{199 }
\DoxyCodeLine{200     \textcolor{comment}{/* Test examples}}
\DoxyCodeLine{201 \textcolor{comment}{     * 1256 Weak -\/ should return Successful}}
\DoxyCodeLine{202 \textcolor{comment}{     * 725 Weak -\/ should return Unsuccessful}}
\DoxyCodeLine{203 \textcolor{comment}{     * 1471 Average -\/ should return Successful}}
\DoxyCodeLine{204 \textcolor{comment}{     * 703 Very Strong -\/ should return Unsuccessful}}
\DoxyCodeLine{205 \textcolor{comment}{     * 1301 Strong -\/ should return Successful}}
\DoxyCodeLine{206 \textcolor{comment}{     */}}
\DoxyCodeLine{207     \mbox{\hyperlink{classCompany}{Company}} \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}(703, \textcolor{stringliteral}{"{}Very Strong"{}}, \textcolor{keyword}{true});}
\DoxyCodeLine{208 }
\DoxyCodeLine{209     \textcolor{keywordtype}{string} answer = \mbox{\hyperlink{nearest__neighbors_8cpp_a15264defbbec1a36f588050dc4850ee6}{KNN}}(data, \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}, 12, \mbox{\hyperlink{nearest__neighbors_8cpp_aea167cf8a07bdeab4cc68fae7a02806e}{euclideanDistance}})}
\DoxyCodeLine{210                         ? \textcolor{stringliteral}{"{}Successful"{}}}
\DoxyCodeLine{211                         : \textcolor{stringliteral}{"{}Unsuccessful"{}};}
\DoxyCodeLine{212     cout << answer;}
\DoxyCodeLine{213 \}}

\end{DoxyCode}


References euclidean\+Distance(), CSVReader\+::get\+Data(), KNN(), and test().

\mbox{\Hypertarget{nearest__neighbors_8cpp_a3feb38be1a54a6de5afa02d99ac808f1}\label{nearest__neighbors_8cpp_a3feb38be1a54a6de5afa02d99ac808f1}} 
\index{nearest\_neighbors.cpp@{nearest\_neighbors.cpp}!manhattanDistance@{manhattanDistance}}
\index{manhattanDistance@{manhattanDistance}!nearest\_neighbors.cpp@{nearest\_neighbors.cpp}}
\doxysubsubsection{\texorpdfstring{manhattanDistance()}{manhattanDistance()}}
{\footnotesize\ttfamily long double manhattan\+Distance (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{lhs,  }\item[{\mbox{\hyperlink{classCompany}{Company}} \&}]{test }\end{DoxyParamCaption})}



Definition at line 147 of file nearest\+\_\+neighbors.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{147                                                            \{}
\DoxyCodeLine{148     \textcolor{keywordflow}{return} (abs(lhs.\mbox{\hyperlink{classCompany_a66da188152d90e0788a0e1666589ce31}{turnover}} -\/ \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.turnover) +}
\DoxyCodeLine{149             abs(lhs.\mbox{\hyperlink{classCompany_a41ba0338049f56dbd4a4b645834267d0}{characteristics}} -\/ \mbox{\hyperlink{rc5_8cpp_a1c546bc4bc9f956cd794b3389e2451d9}{test}}.characteristics));}
\DoxyCodeLine{150 \}}

\end{DoxyCode}


References Company\+::characteristics, test(), and Company\+::turnover.

